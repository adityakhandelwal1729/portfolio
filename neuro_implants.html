<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Implants</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header id="header">
        <nav class="container">
            <div class="nav-content">
                <div class="logo">
                    <svg class="icon-brain" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/>
                        <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/>
                    </svg>
                    <span>AK</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#home" class="nav-link active">Home</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#research" class="nav-link">Research</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#projects" class="nav-link">Projects</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#activities" class="nav-link">Activities</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio/photography.html" class="nav-link">Photography</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#about" class="nav-link">About</a></li>
                    <li><a href="https://adityakhandelwal1729.github.io/portfolio#contact" class="nav-link">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section id="research" class="research-section">
            <div class="container">
                <h2>3D printed Au MicroElectrode Arrays for Neural Implants</h2>
                <p>Working towards the goal of customizable Multielectrode Array neural implants for electrophysiological recording, with a fast fabrication turnaround time of within 48 hours of request, which usually in our case meant by a surgery with our collaborators at Zinn Lab (University of Pittsburgh Medical Centre) which could give a test sepcimen. <br> 
                    <br>
                    I contributed to this project from design to fabrication of the implants, using Aerosol Jet Printing as the primary fabrication methodology and Gold and silver nanoparticles for the MEA and interconnects, respectively. 
                    The fabrication is followed by Parylene-C coating to prevent tissue exposure to cytotoxic silver in the event of accidental exposure, PEDOT:PSS coating to reduce impedance, and EIS characterization. 
                    <br>
                    <br>
                    The Au core of the MEA tips is exposed using Plasma-Focused Ion Beam milling to enable signal acquisition. We also performed testing with my lab members on freshly resected human brain tissue (within 15 minutes of resection) in collaboration with the Zinn Lab (UPMC) to record neural signals using the fabricated probes.
                    <br>
                    <br>
                    We also conduct an additional compression test on brain tissue to characterize the Stress-Strain response of healthy tissue and gather data for comparison with unhealthy tissue, I use this data to explore it's fitting over Ogden and Mooney_Rivlin hyperelasticity models.
                    <br>
                    <br>
                Team: Dr. Sanjida Jahan (Post-doc),<br>
                      Aditya Khandelwal, <br>
                      Eleanor Barnea, <br>
                      Prof. Rahul Panat (PI), <br>
                    <br>
                    Collaborators: Zinn Lab (UPMC), Weber Group (CMU)
                </p>
                
           <!-- ========== Photo Grid + Lightbox with Captions ========== -->
            <style>
              /* Grid */
              .photo-grid {
                --gap: 12px;
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: var(--gap);
              }
              @media (max-width: 900px) { .photo-grid { grid-template-columns: repeat(2, 1fr); } }
              @media (max-width: 560px) { .photo-grid { grid-template-columns: 1fr; } }
            
              figure.photo-card {
                position: relative;
                cursor: zoom-in;
                border-radius: 12px;
                overflow: hidden;
                background: #111827;
                box-shadow: 0 6px 16px rgba(0,0,0,.25);
                transition: transform .15s ease, box-shadow .15s ease;
              }
              figure.photo-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 10px 24px rgba(0,0,0,.3);
              }
            
              .photo-card img {
                width: 100%;
                height: 100%;
                aspect-ratio: 4/3;
                object-fit: cover;
                display: block;
              }
            
              .photo-card figcaption {
                padding: 0.5rem 0.75rem;
                font-size: 0.9rem;
                color: #e2e8f0;
                background: rgba(15,23,42,0.8);
                text-align: center;
              }
    
              /* NEW: styles for provided caption structure */
              .photo-card .cap-title {
                display: block;
                font-weight: 600;
                line-height: 1.3;
              }
              .photo-card .cap-meta {
                display: block;
                opacity: 0.8;
                font-size: 0.85rem;
                line-height: 1.2;
              }
    
              .photo-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 12px; /* spacing between items */
                position: relative;
              }
                
              .photo-grid::before,
              .photo-grid::after {
                content: '';
                display: block;
              }
                
              .photo-grid hr {
                grid-column: 1 / -1;  /* make divider span all columns */
                border: none;
                border-top: 1px solid rgba(255,255,255,0.1); /* light subtle line */
                margin: 8px 0;
              }
            
              /* Lightbox */
              .lightbox {
                position: fixed;
                inset: 0;
                background: rgba(0,0,0,.85);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 9999;
              }
              .lightbox[aria-hidden="false"] { display: flex; }
            
              .lightbox__dialog {
                position: relative;
                max-width: min(92vw, 1200px);
                max-height: 90vh;
              }
              .lightbox__img {
                max-width: 100%;
                max-height: 90vh;
                border-radius: 10px;
                box-shadow: 0 12px 36px rgba(0,0,0,.5);
              }
            
              .lightbox__caption {
                margin-top: .6rem;
                text-align: center;
                color: #e5e7eb;
                font-size: .95rem;
              }
            
              .lightbox__close,
              .lightbox__prev,
              .lightbox__next {
                position: absolute;
                border: none;
                background: rgba(255,255,255,.12);
                color: #fff;
                padding: .6rem .8rem;
                border-radius: 10px;
                cursor: pointer;
                backdrop-filter: blur(4px);
                transition: background .15s ease, transform .1s ease;
              }
              .lightbox__close:hover,
              .lightbox__prev:hover,
              .lightbox__next:hover { background: rgba(255,255,255,.2); }
              .lightbox__close:active,
              .lightbox__prev:active,
              .lightbox__next:active { transform: scale(.98); }
            
              .lightbox__close { top: -48px; right: 0; }
              .lightbox__prev  { top: 50%; left: -56px; transform: translateY(-50%); }
              .lightbox__next  { top: 50%; right: -56px; transform: translateY(-50%); }
            
              @media (max-width: 720px) {
                .lightbox__prev { left: 8px; }
                .lightbox__next { right: 8px; }
                .lightbox__close { top: 8px; right: 8px; }
              }
            
              .lightbox[data-has-multiple="false"] .lightbox__prev,
              .lightbox[data-has-multiple="false"] .lightbox__next { display: none; }
            .blur-wrapper {
              display: inline-block;
              cursor: pointer;
              overflow: hidden;
            }
            
            .blurred {
              filter: blur(12px);
              transition: filter 0.5s ease;
            }
            
            .blur-wrapper:hover img {
              filter: blur(8px); /* optional gentle preview on hover */
            }
            </style>
            
            <div class="photo-grid" id="photoGrid">
              <hr>
              <figure class="photo-card" data-index="0">
                <img
                  src="https://adityakhandelwal1729.github.io/portfolio/images/implant_testing_1.jpg"
                  data-full="https://adityakhandelwal1729.github.io/portfolio/images/implant_testing_1.jpg"
                  class="blurred"
                  alt="Implant Testing"
                  loading="lazy">
                <figcaption>
                  <span class="cap-title">Implant Testing</span>
                  <span class="cap-meta">Panat Lab</span>
                </figcaption>
              </figure>
            
              <figure class="photo-card" data-index="1">
                <img
                  src="https://adityakhandelwal1729.github.io/portfolio/images/rat%20with%20the%20hat.png"
                  data-full="https://adityakhandelwal1729.github.io/portfolio/images/rat%20with%20the%20hat.png"
                  alt="Rat With A Hat"
                  loading="lazy">
                <figcaption>
                  <span class="cap-title">Rat with Neural Implant Hat</span>
                  <span class="cap-meta">Panat Lab</span>
                </figcaption>
              </figure>
            
              <figure class="photo-card" data-index="2">
                <img
                  src="https://adityakhandelwal1729.github.io/portfolio/images/probes_gold_tipped.jpeg"
                  data-full="https://adityakhandelwal1729.github.io/portfolio/images/probes_gold_tipped.jpeg"
                  alt="Fabricated Probes"
                  loading="lazy">
                <figcaption>
                  <span class="cap-title">Fabricated Probes</span>
                  <span class="cap-meta">Panat Lab</span>
                </figcaption>
              </figure>
              <hr>
            </div>
            
            <!-- Lightbox -->
            <div class="lightbox" id="lightbox" aria-hidden="true">
              <div class="lightbox__dialog">
                <img class="lightbox__img" id="lightboxImg" alt="">
                <div class="lightbox__caption" id="lightboxCaption"></div>
            
                <button class="lightbox__close" id="lightboxClose" aria-label="Close">✕</button>
                <button class="lightbox__prev"  id="lightboxPrev"  aria-label="Previous image">←</button>
                <button class="lightbox__next"  id="lightboxNext"  aria-label="Next image">→</button>
              </div>
            </div>
    
            <script>
            (function(){
              const grid = document.getElementById('photoGrid');
              const figures = Array.from(grid.querySelectorAll('.photo-card'));
              const imgs = figures.map(f => f.querySelector('img'));
              // NEW: derive captions from figcaptions (cap-title + cap-meta)
              const caps = figures.map(f => {
                const t = f.querySelector('.cap-title')?.textContent?.trim() || '';
                const m = f.querySelector('.cap-meta')?.textContent?.trim() || '';
                if (t && m) return `${t} — ${m}`;
                return t || m || (f.querySelector('img')?.alt || '');
              });
    
              const lb = document.getElementById('lightbox');
              const lbImg = document.getElementById('lightboxImg');
              const lbCaption = document.getElementById('lightboxCaption');
              const btnClose = document.getElementById('lightboxClose');
              const btnPrev = document.getElementById('lightboxPrev');
              const btnNext = document.getElementById('lightboxNext');
              let current = 0;
            
              function openAt(index){
                if(index<0 || index>=imgs.length) return;
                current = index;
                const img = imgs[index];
                lbImg.src = img.dataset.full || img.src;
                lbImg.alt = img.alt || '';
                // UPDATED: use figcaption-derived captions
                lbCaption.textContent = caps[index];
                lb.setAttribute('aria-hidden','false');
                lb.dataset.hasMultiple = String(imgs.length>1);
                document.body.style.overflow='hidden';
              }
              function close(){
                lb.setAttribute('aria-hidden','true');
                lbImg.src='';
                document.body.style.overflow='';
              }
              function showNext(dir=1){ openAt((current+dir+imgs.length)%imgs.length); }
            
              grid.addEventListener('click',e=>{
                const fig = e.target.closest('.photo-card');
                if(!fig) return;
                openAt(figures.indexOf(fig));
              });
              btnClose.addEventListener('click',close);
              btnPrev.addEventListener('click',()=>showNext(-1));
              btnNext.addEventListener('click',()=>showNext(1));
              lb.addEventListener('click',e=>{ if(e.target===lb) close(); });
              window.addEventListener('keydown',e=>{
                if(lb.getAttribute('aria-hidden')==='true') return;
                if(e.key==='Escape') close();
                if(e.key==='ArrowRight') showNext(1);
                if(e.key==='ArrowLeft') showNext(-1);
              });
            })();
            </script>
           </div>

           <div class="video-wrapper">
              <iframe 
                width="560" 
                height="315" 
                src="https://www.youtube.com/embed/I85RColdB3A" 
                title="YouTube video player" 
                frameborder="0" 
                allowfullscreen>
              </iframe>
          </div>

        </section>


        <section id="contact" class="contact-section">
            <div class="container">
                <h2>Get In Touch</h2>                
                <div class="contact-grid">
                    <div class="contact-info">
                        <div class="contact-card">
                            <div>
                                <h3>Email</h3>
                                <a href="mailto:aditya04khandelwal@gmail.com">aditya04khandelwal@gmail.com</a>
                            </div>
                        </div>
                        
                        <div class="contact-card">
                            <div>
                                <h3>Location</h3>
                                <p>Department of Electrical and Computer Engineering<br>Carnegie Mellon University<br>Pittsburgh, PA</p>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>© 2025 Aditya Khandelwal. All rights reserved.</p>
                <p><i>To confront cancer is to encounter a parallel species, one perhaps more adapted to survival than even we are.</i> - Siddhartha Mukherjee</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
